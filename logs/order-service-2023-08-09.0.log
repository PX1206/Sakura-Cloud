[2023-08-09 15:51:42,652] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 15:51:42,659] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 15:51:42,674] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 15:51:43,323] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=af42e946-47f2-3e29-b856-cefd9e7daebc
[2023-08-09 15:51:43,360] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,361] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,361] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,376] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,378] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,380] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,380] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$444/1582906120] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,380] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,383] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,384] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:51:43,385] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 15:51:43,424] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 15:51:43,429] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 15:51:43,434] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 15:51:43,434] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 15:51:43,796] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 15:51:43,895] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 15:51:43,917] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 15:51:43,917] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 15:51:44,118] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 15:51:44,358] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 15:51:44,866] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xbdd4b9f4, L:/192.168.43.8:54673 - R:/192.168.43.128:8091]
[2023-08-09 15:51:44,871] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 38 ms, version:1.6.1,role:TMROLE,channel:[id: 0xbdd4b9f4, L:/192.168.43.8:54673 - R:/192.168.43.128:8091]
[2023-08-09 15:51:44,872] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 15:51:44,888] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 15:51:44,889] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 15:51:44,893] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 15:51:44,893] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 15:51:44,893] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 15:51:45,160] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 15:51:45,168] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 15:51:45,168] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 15:51:45,168] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 15:51:45,274] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 15:51:45,274] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 2591 ms
[2023-08-09 15:51:45,397] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 15:51:45,736] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 15:51:45,837] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 15:51:45,837] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 15:51:45,838] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 15:51:45,844] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xac8a4c6c, L:/192.168.43.8:54683 - R:/192.168.43.128:8091]
[2023-08-09 15:51:45,845] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 5 ms, version:1.6.1,role:RMROLE,channel:[id: 0xac8a4c6c, L:/192.168.43.8:54683 - R:/192.168.43.128:8091]
[2023-08-09 15:51:46,483] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 15:51:46,488] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 15:51:46,521] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 15:51:46,521] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 15:51:46,599] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$66148376] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 15:51:46,844] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 15:51:48,435] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 15:51:48,443] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 15:51:48,445] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 15:51:48,445] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 15:51:48,624] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 15:51:48,986] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 15:51:48,995] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 15:51:49,008] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 15:51:49,113] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.427 seconds (JVM running for 10.111)
[2023-08-09 15:51:49,117] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 15:51:49,119] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 15:51:49,119] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 15:51:55,212] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 15:51:55,213] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 15:51:55,216] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 3 ms
[2023-08-09 15:51:55,520] [logId] [INFO] [http-nio-8010-exec-1] LogAspect[182] - requestId：60214596826149c898b3bbf212f748b2
[2023-08-09 15:51:55,730] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] LogAspect[192] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 15:51:55"}
[2023-08-09 15:51:55,806] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@25fc6970
[2023-08-09 15:51:55,860] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745743]
[2023-08-09 15:51:56,101] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 15:51:56,102] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745743
[2023-08-09 15:51:56,102] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 15:51:56,250] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (148ms)
[2023-08-09 15:51:56,251] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 15:51:56,251] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 15:51:56,251] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 07:51:56 GMT
[2023-08-09 15:51:56,251] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 15:51:56,251] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 15:51:56,251] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 15:51:56,252] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":55,"time":"2023-08-09 07:51:56"}
[2023-08-09 15:51:56,252] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 15:51:56,263] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=55, time=Wed Aug 09 15:51:56 CST 2023)
[2023-08-09 15:51:56,266] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 15:51:56,267] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 15:51:56,303] [60214596826149c898b3bbf212f748b2] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (35ms)
[2023-08-09 15:51:56,304] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 15:51:56 CST 2023)
[2023-08-09 15:51:57,106] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745743
[2023-08-09 15:51:57,107] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745743] commit status: Committed
[2023-08-09 15:51:57,114] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] LogAspect[170] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 15:51:57"}
[2023-08-09 15:51:57,138] [60214596826149c898b3bbf212f748b2] [INFO] [http-nio-8010-exec-1] LogAspect[463] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"60214596826149c898b3bbf212f748b2","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 15:51:57,927] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745743,branchId=5566871554652745744,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 15:51:57,929] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745743 5566871554652745744 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 15:51:57,930] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 15:58:59,672] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 15:58:59,672] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 15:58:59,673] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 15:58:59,674] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 15:58:59,891] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 15:58:59,894] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 15:58:59,904] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 15:58:59,906] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 15:58:59,908] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xbdd4b9f4, L:/192.168.43.8:54673 ! R:/192.168.43.128:8091]
[2023-08-09 15:58:59,908] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xac8a4c6c, L:/192.168.43.8:54683 ! R:/192.168.43.128:8091]
[2023-08-09 15:58:59,908] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xac8a4c6c, L:/192.168.43.8:54683 ! R:/192.168.43.128:8091]
[2023-08-09 15:58:59,908] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xbdd4b9f4, L:/192.168.43.8:54673 ! R:/192.168.43.128:8091]
[2023-08-09 15:58:59,908] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xac8a4c6c, L:/192.168.43.8:54683 ! R:/192.168.43.128:8091]
[2023-08-09 15:58:59,908] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xbdd4b9f4, L:/192.168.43.8:54673 ! R:/192.168.43.128:8091]
[2023-08-09 15:58:59,908] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xac8a4c6c, L:/192.168.43.8:54683 ! R:/192.168.43.128:8091]
[2023-08-09 15:58:59,908] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xbdd4b9f4, L:/192.168.43.8:54673 ! R:/192.168.43.128:8091]
[2023-08-09 15:58:59,909] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xac8a4c6c, L:/192.168.43.8:54683 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 15:58:59,909] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbdd4b9f4, L:/192.168.43.8:54673 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 15:58:59,909] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xac8a4c6c, L:/192.168.43.8:54683 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 15:58:59,909] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbdd4b9f4, L:/192.168.43.8:54673 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 15:59:06,597] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 15:59:06,605] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 15:59:06,625] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 15:59:07,529] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=af42e946-47f2-3e29-b856-cefd9e7daebc
[2023-08-09 15:59:07,585] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,586] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,586] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,613] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,617] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,619] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,619] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$444/323665272] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,620] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,623] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,624] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 15:59:07,626] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 15:59:07,683] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 15:59:07,689] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 15:59:07,696] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 15:59:07,696] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 15:59:08,107] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 15:59:08,234] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 15:59:08,258] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 15:59:08,258] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 15:59:08,469] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 15:59:08,704] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 15:59:09,258] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x16920833, L:/192.168.43.8:55169 - R:/192.168.43.128:8091]
[2023-08-09 15:59:09,264] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 56 ms, version:1.6.1,role:TMROLE,channel:[id: 0x16920833, L:/192.168.43.8:55169 - R:/192.168.43.128:8091]
[2023-08-09 15:59:09,265] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 15:59:09,288] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 15:59:09,289] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 15:59:09,295] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 15:59:09,295] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 15:59:09,295] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 15:59:09,665] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 15:59:09,673] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 15:59:09,673] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 15:59:09,673] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 15:59:09,833] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 15:59:09,833] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 3194 ms
[2023-08-09 15:59:10,009] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 15:59:10,367] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 15:59:10,476] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 15:59:10,477] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 15:59:10,477] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 15:59:10,484] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x1cb75112, L:/192.168.43.8:55181 - R:/192.168.43.128:8091]
[2023-08-09 15:59:10,484] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 4 ms, version:1.6.1,role:RMROLE,channel:[id: 0x1cb75112, L:/192.168.43.8:55181 - R:/192.168.43.128:8091]
[2023-08-09 15:59:11,194] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 15:59:11,203] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 15:59:11,245] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 15:59:11,246] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 15:59:11,356] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$6fed7189] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 15:59:11,686] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 15:59:13,414] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 15:59:13,424] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 15:59:13,426] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 15:59:13,427] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 15:59:13,623] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 15:59:14,008] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 15:59:14,018] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 15:59:14,037] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 15:59:14,165] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 11.424 seconds (JVM running for 12.814)
[2023-08-09 15:59:14,170] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 15:59:14,172] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 15:59:14,173] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:00:09,124] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:00:09,125] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:00:09,129] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 4 ms
[2023-08-09 16:00:13,422] [logId] [INFO] [http-nio-8010-exec-1] LogAspect[182] - requestId：f6f0117ef7c54640a1a39a5ad631a169
[2023-08-09 16:00:14,179] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] LogAspect[192] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:00:11"}
[2023-08-09 16:00:14,198] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@393e1277
[2023-08-09 16:00:14,206] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745745]
[2023-08-09 16:00:20,167] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:00:20,167] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745745
[2023-08-09 16:00:20,168] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:00:20,285] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (117ms)
[2023-08-09 16:00:20,286] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:00:20,286] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:00:20,286] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:00:20 GMT
[2023-08-09 16:00:20,286] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:00:20,286] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:00:20,286] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:00:20,286] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":54,"time":"2023-08-09 08:00:20"}
[2023-08-09 16:00:20,287] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:00:20,295] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=54, time=Wed Aug 09 16:00:20 CST 2023)
[2023-08-09 16:00:21,317] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:00:23,147] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:00:23,173] [f6f0117ef7c54640a1a39a5ad631a169] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (25ms)
[2023-08-09 16:00:23,175] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:00:23 CST 2023)
[2023-08-09 16:00:23,417] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745745
[2023-08-09 16:00:23,418] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745745] commit status: Committed
[2023-08-09 16:00:23,421] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] LogAspect[170] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:00:23"}
[2023-08-09 16:00:23,434] [f6f0117ef7c54640a1a39a5ad631a169] [INFO] [http-nio-8010-exec-1] LogAspect[463] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"f6f0117ef7c54640a1a39a5ad631a169","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:00:23,930] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745745,branchId=5566871554652745746,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:00:23,931] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745745 5566871554652745746 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:00:23,932] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:11:26,805] [logId] [WARN] [Thread-5] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:11:26,805] [logId] [WARN] [Thread-12] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:11:26,806] [logId] [WARN] [Thread-12] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:11:26,807] [logId] [WARN] [Thread-5] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:11:27,049] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:11:27,052] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:11:27,063] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:11:27,065] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:11:27,066] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x16920833, L:/192.168.43.8:55169 ! R:/192.168.43.128:8091]
[2023-08-09 16:11:27,067] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x16920833, L:/192.168.43.8:55169 ! R:/192.168.43.128:8091]
[2023-08-09 16:11:27,067] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x1cb75112, L:/192.168.43.8:55181 ! R:/192.168.43.128:8091]
[2023-08-09 16:11:27,067] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x16920833, L:/192.168.43.8:55169 ! R:/192.168.43.128:8091]
[2023-08-09 16:11:27,067] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x1cb75112, L:/192.168.43.8:55181 ! R:/192.168.43.128:8091]
[2023-08-09 16:11:27,067] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x16920833, L:/192.168.43.8:55169 ! R:/192.168.43.128:8091]
[2023-08-09 16:11:27,067] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x1cb75112, L:/192.168.43.8:55181 ! R:/192.168.43.128:8091]
[2023-08-09 16:11:27,068] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x1cb75112, L:/192.168.43.8:55181 ! R:/192.168.43.128:8091]
[2023-08-09 16:11:27,068] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x16920833, L:/192.168.43.8:55169 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:11:27,068] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x1cb75112, L:/192.168.43.8:55181 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:11:27,068] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x1cb75112, L:/192.168.43.8:55181 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:11:27,068] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x16920833, L:/192.168.43.8:55169 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:11:31,856] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:11:31,861] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:11:31,877] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:11:32,502] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=af42e946-47f2-3e29-b856-cefd9e7daebc
[2023-08-09 16:11:32,539] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,539] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,539] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,555] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,556] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,558] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,558] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$444/60055669] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,559] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,561] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,562] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:11:32,563] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:11:32,601] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:11:32,606] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:11:32,611] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:11:32,611] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:11:32,965] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:11:33,072] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:11:33,091] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:11:33,091] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:11:33,304] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:11:33,507] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:11:34,131] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xa83bba71, L:/192.168.43.8:56418 - R:/192.168.43.128:8091]
[2023-08-09 16:11:34,138] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 45 ms, version:1.6.1,role:TMROLE,channel:[id: 0xa83bba71, L:/192.168.43.8:56418 - R:/192.168.43.128:8091]
[2023-08-09 16:11:34,138] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:11:34,166] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:11:34,167] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:11:34,172] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:11:34,172] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:11:34,172] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:11:34,453] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:11:34,459] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:11:34,459] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:11:34,459] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:11:34,571] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:11:34,571] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 2685 ms
[2023-08-09 16:11:34,681] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:11:34,966] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:11:35,064] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:11:35,065] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:11:35,065] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:11:35,071] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xbaefc229, L:/192.168.43.8:56427 - R:/192.168.43.128:8091]
[2023-08-09 16:11:35,071] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 3 ms, version:1.6.1,role:RMROLE,channel:[id: 0xbaefc229, L:/192.168.43.8:56427 - R:/192.168.43.128:8091]
[2023-08-09 16:11:35,724] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:11:35,729] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:11:35,766] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:11:35,766] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:11:35,850] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$2c7dc406] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:11:36,092] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:11:37,547] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:11:37,556] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:11:37,558] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:11:37,559] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:11:37,757] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:11:38,258] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:11:38,266] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:11:38,280] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:11:38,388] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.328 seconds (JVM running for 10.004)
[2023-08-09 16:11:38,392] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:11:38,394] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:11:38,394] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:11:44,683] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:11:44,683] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:11:44,687] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 4 ms
[2023-08-09 16:11:44,950] [logId] [INFO] [http-nio-8010-exec-1] LogAspect[182] - requestId：50882882f250483db533368e83b06018
[2023-08-09 16:11:45,119] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] LogAspect[192] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:11:44"}
[2023-08-09 16:11:45,213] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@64fb01fc
[2023-08-09 16:11:45,241] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745747]
[2023-08-09 16:11:45,492] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:11:45,493] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745747
[2023-08-09 16:11:45,493] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:11:45,616] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (122ms)
[2023-08-09 16:11:45,617] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:11:45,617] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:11:45,617] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:11:45 GMT
[2023-08-09 16:11:45,617] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:11:45,617] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:11:45,618] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:11:45,618] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":53,"time":"2023-08-09 08:11:45"}
[2023-08-09 16:11:45,618] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:11:45,626] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=53, time=Wed Aug 09 16:11:45 CST 2023)
[2023-08-09 16:11:45,629] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:11:45,629] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:11:45,663] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (33ms)
[2023-08-09 16:11:45,664] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:11:45 CST 2023)
[2023-08-09 16:11:45,704] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:11:45,722] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908114562782222729(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:11:46,202] [50882882f250483db533368e83b06018] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:11:46,391] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745747
[2023-08-09 16:11:46,392] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745747] commit status: Committed
[2023-08-09 16:11:46,396] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] LogAspect[170] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:11:46"}
[2023-08-09 16:11:46,425] [50882882f250483db533368e83b06018] [INFO] [http-nio-8010-exec-1] LogAspect[463] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"50882882f250483db533368e83b06018","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:11:46,937] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745747,branchId=5566871554652745748,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:11:46,939] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745747 5566871554652745748 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:11:46,940] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:20:24,257] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:20:24,257] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:20:24,257] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:20:24,258] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:20:24,643] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:20:24,664] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:20:24,678] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:20:24,681] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:20:24,683] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xbaefc229, L:/192.168.43.8:56427 ! R:/192.168.43.128:8091]
[2023-08-09 16:20:24,684] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xbaefc229, L:/192.168.43.8:56427 ! R:/192.168.43.128:8091]
[2023-08-09 16:20:24,684] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xbaefc229, L:/192.168.43.8:56427 ! R:/192.168.43.128:8091]
[2023-08-09 16:20:24,684] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xbaefc229, L:/192.168.43.8:56427 ! R:/192.168.43.128:8091]
[2023-08-09 16:20:24,685] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbaefc229, L:/192.168.43.8:56427 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:20:24,685] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbaefc229, L:/192.168.43.8:56427 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:20:33,377] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:20:33,382] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:20:33,399] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:20:34,152] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=af42e946-47f2-3e29-b856-cefd9e7daebc
[2023-08-09 16:20:34,190] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,190] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,191] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,208] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,210] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,212] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,213] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$444/60055669] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,213] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,215] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,217] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:20:34,218] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:20:34,259] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:20:34,263] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:20:34,269] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:20:34,269] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:20:34,632] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:20:34,772] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:20:34,792] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:20:34,792] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:20:35,026] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:20:35,344] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:20:35,872] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xa0adae18, L:/192.168.43.8:57067 - R:/192.168.43.128:8091]
[2023-08-09 16:20:35,877] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 40 ms, version:1.6.1,role:TMROLE,channel:[id: 0xa0adae18, L:/192.168.43.8:57067 - R:/192.168.43.128:8091]
[2023-08-09 16:20:35,878] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:20:35,895] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:20:35,896] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:20:35,900] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:20:35,900] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:20:35,900] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:20:36,203] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:20:36,209] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:20:36,209] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:20:36,209] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:20:36,337] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:20:36,337] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 2929 ms
[2023-08-09 16:20:36,519] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:20:36,828] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:20:36,930] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:20:36,931] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:20:36,931] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:20:36,938] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xa42219e9, L:/192.168.43.8:57103 - R:/192.168.43.128:8091]
[2023-08-09 16:20:36,938] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 4 ms, version:1.6.1,role:RMROLE,channel:[id: 0xa42219e9, L:/192.168.43.8:57103 - R:/192.168.43.128:8091]
[2023-08-09 16:20:37,581] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:20:37,587] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:20:37,626] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:20:37,626] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:20:37,721] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$2c7dc406] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:20:37,986] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:20:39,256] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:20:39,264] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:20:39,266] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:20:39,266] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:20:39,461] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:20:39,817] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:20:39,825] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:20:39,842] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:20:39,959] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.716 seconds (JVM running for 10.409)
[2023-08-09 16:20:39,963] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:20:39,965] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:20:39,965] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:21:07,294] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:21:07,295] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:21:07,296] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 1 ms
[2023-08-09 16:21:07,384] [logId] [INFO] [http-nio-8010-exec-1] LogAspect[182] - requestId：d59b3accd6a24ea2b5c1ce001f8e53c1
[2023-08-09 16:21:07,440] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] LogAspect[192] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:21:07"}
[2023-08-09 16:21:07,462] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@13befefa
[2023-08-09 16:21:07,471] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745749]
[2023-08-09 16:21:07,641] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:21:07,641] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745749
[2023-08-09 16:21:07,641] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:21:07,770] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (128ms)
[2023-08-09 16:21:07,771] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:21:07,771] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:21:07,772] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:21:07 GMT
[2023-08-09 16:21:07,772] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:21:07,772] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:21:07,772] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:21:07,772] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":52,"time":"2023-08-09 08:21:07"}
[2023-08-09 16:21:07,773] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:21:07,788] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=52, time=Wed Aug 09 16:21:07 CST 2023)
[2023-08-09 16:21:07,792] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:21:07,793] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:21:07,844] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (50ms)
[2023-08-09 16:21:07,845] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:21:07 CST 2023)
[2023-08-09 16:21:07,878] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:21:07,887] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908210778890994969(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:21:08,150] [d59b3accd6a24ea2b5c1ce001f8e53c1] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:21:08,301] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745749
[2023-08-09 16:21:08,302] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745749] commit status: Committed
[2023-08-09 16:21:08,304] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] LogAspect[170] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:21:08"}
[2023-08-09 16:21:08,940] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745749,branchId=5566871554652745750,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:21:08,942] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745749 5566871554652745750 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:21:08,943] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:21:38,305] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] LogAspect[391] - ++++++++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:21:38,317] [d59b3accd6a24ea2b5c1ce001f8e53c1] [INFO] [http-nio-8010-exec-1] LogAspect[465] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"d59b3accd6a24ea2b5c1ce001f8e53c1","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:34:59,596] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:34:59,596] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:34:59,596] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:34:59,597] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:34:59,812] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:34:59,816] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:34:59,846] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:34:59,849] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:34:59,850] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xa0adae18, L:/192.168.43.8:57067 ! R:/192.168.43.128:8091]
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xa42219e9, L:/192.168.43.8:57103 ! R:/192.168.43.128:8091]
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xa0adae18, L:/192.168.43.8:57067 ! R:/192.168.43.128:8091]
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xa42219e9, L:/192.168.43.8:57103 ! R:/192.168.43.128:8091]
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xa0adae18, L:/192.168.43.8:57067 ! R:/192.168.43.128:8091]
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xa42219e9, L:/192.168.43.8:57103 ! R:/192.168.43.128:8091]
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xa0adae18, L:/192.168.43.8:57067 ! R:/192.168.43.128:8091]
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xa42219e9, L:/192.168.43.8:57103 ! R:/192.168.43.128:8091]
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xa0adae18, L:/192.168.43.8:57067 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xa42219e9, L:/192.168.43.8:57103 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:34:59,851] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xa0adae18, L:/192.168.43.8:57067 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:34:59,852] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xa42219e9, L:/192.168.43.8:57103 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:35:09,656] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:35:09,661] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:35:09,680] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:35:10,465] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=0b52230f-148d-388b-b6e3-546de0d43736
[2023-08-09 16:35:10,506] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,506] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,506] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,523] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,524] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,526] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,527] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$444/717560284] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,527] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,530] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,531] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:35:10,532] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:35:10,576] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:35:10,581] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:35:10,586] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:35:10,586] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:35:10,964] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:35:11,085] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:35:11,106] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:35:11,107] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:35:11,333] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:35:11,684] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:35:12,269] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xbfda4014, L:/192.168.43.8:58186 - R:/192.168.43.128:8091]
[2023-08-09 16:35:12,275] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 46 ms, version:1.6.1,role:TMROLE,channel:[id: 0xbfda4014, L:/192.168.43.8:58186 - R:/192.168.43.128:8091]
[2023-08-09 16:35:12,276] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:35:12,297] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:35:12,298] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:35:12,303] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:35:12,303] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:35:12,303] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:35:12,596] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:35:12,603] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:35:12,603] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:35:12,604] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:35:12,718] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:35:12,718] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 3028 ms
[2023-08-09 16:35:12,833] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:35:13,142] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:35:13,261] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:35:13,262] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:35:13,263] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:35:13,271] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xab64d334, L:/192.168.43.8:58194 - R:/192.168.43.128:8091]
[2023-08-09 16:35:13,271] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 5 ms, version:1.6.1,role:RMROLE,channel:[id: 0xab64d334, L:/192.168.43.8:58194 - R:/192.168.43.128:8091]
[2023-08-09 16:35:13,890] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:35:13,895] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:35:13,932] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:35:13,932] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:35:14,023] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$6da925b8] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:35:14,347] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:35:15,680] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:35:15,689] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:35:15,691] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:35:15,691] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:35:15,875] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:35:16,217] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:35:16,227] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:35:16,241] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:35:16,344] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.479 seconds (JVM running for 10.452)
[2023-08-09 16:35:16,348] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:35:16,361] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:35:16,363] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:35:54,514] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:35:54,514] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:35:54,519] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 4 ms
[2023-08-09 16:35:54,716] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[93] - requestId：368600caea004a008294751d70d40842
[2023-08-09 16:35:54,844] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] LogUtil[103] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:35:54"}
[2023-08-09 16:35:54,875] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@15c3cd50
[2023-08-09 16:35:54,889] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745751]
[2023-08-09 16:35:55,138] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:35:55,139] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745751
[2023-08-09 16:35:55,139] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:35:55,298] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (158ms)
[2023-08-09 16:35:55,298] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:35:55,298] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:35:55,298] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:35:55 GMT
[2023-08-09 16:35:55,299] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:35:55,299] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:35:55,299] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:35:55,299] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":51,"time":"2023-08-09 08:35:55"}
[2023-08-09 16:35:55,299] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:35:55,309] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=51, time=Wed Aug 09 16:35:55 CST 2023)
[2023-08-09 16:35:55,311] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:35:55,312] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:35:55,339] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (26ms)
[2023-08-09 16:35:55,340] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:35:55 CST 2023)
[2023-08-09 16:35:55,368] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:35:55,376] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908355530981003272(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:35:55,507] [368600caea004a008294751d70d40842] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:35:55,684] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745751
[2023-08-09 16:35:55,686] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745751] commit status: Committed
[2023-08-09 16:35:55,690] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] LogUtil[81] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:35:55"}
[2023-08-09 16:35:55,947] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745751,branchId=5566871554652745752,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:35:55,951] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745751 5566871554652745752 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:35:55,954] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:36:05,700] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] LogUtil[302] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:36:05,712] [368600caea004a008294751d70d40842] [INFO] [http-nio-8010-exec-1] LogUtil[376] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"368600caea004a008294751d70d40842","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:37:06,659] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:37:06,659] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:37:06,660] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:37:06,661] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:37:06,884] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:37:06,888] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:37:06,898] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:37:06,901] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:37:06,902] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xbfda4014, L:/192.168.43.8:58186 ! R:/192.168.43.128:8091]
[2023-08-09 16:37:06,902] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xbfda4014, L:/192.168.43.8:58186 ! R:/192.168.43.128:8091]
[2023-08-09 16:37:06,902] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xab64d334, L:/192.168.43.8:58194 ! R:/192.168.43.128:8091]
[2023-08-09 16:37:06,902] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xbfda4014, L:/192.168.43.8:58186 ! R:/192.168.43.128:8091]
[2023-08-09 16:37:06,902] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xab64d334, L:/192.168.43.8:58194 ! R:/192.168.43.128:8091]
[2023-08-09 16:37:06,903] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xbfda4014, L:/192.168.43.8:58186 ! R:/192.168.43.128:8091]
[2023-08-09 16:37:06,903] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xab64d334, L:/192.168.43.8:58194 ! R:/192.168.43.128:8091]
[2023-08-09 16:37:06,903] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xab64d334, L:/192.168.43.8:58194 ! R:/192.168.43.128:8091]
[2023-08-09 16:37:06,903] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbfda4014, L:/192.168.43.8:58186 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:37:06,903] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xab64d334, L:/192.168.43.8:58194 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:37:06,903] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbfda4014, L:/192.168.43.8:58186 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:37:06,903] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xab64d334, L:/192.168.43.8:58194 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:37:16,891] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:37:16,897] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:37:16,912] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:37:17,546] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=0b52230f-148d-388b-b6e3-546de0d43736
[2023-08-09 16:37:17,583] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,583] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,583] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,599] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,600] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,602] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,602] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$444/670299410] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,603] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,605] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,606] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:37:17,607] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:37:17,645] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:37:17,650] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:37:17,655] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:37:17,655] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:37:18,022] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:37:18,139] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:37:18,162] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:37:18,162] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:37:18,395] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:37:18,650] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:37:19,174] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x4e0976f7, L:/192.168.43.8:58357 - R:/192.168.43.128:8091]
[2023-08-09 16:37:19,179] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 39 ms, version:1.6.1,role:TMROLE,channel:[id: 0x4e0976f7, L:/192.168.43.8:58357 - R:/192.168.43.128:8091]
[2023-08-09 16:37:19,179] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:37:19,196] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:37:19,197] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:37:19,201] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:37:19,201] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:37:19,201] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:37:19,464] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:37:19,471] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:37:19,471] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:37:19,471] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:37:19,580] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:37:19,580] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 2659 ms
[2023-08-09 16:37:19,691] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:37:19,980] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:37:20,082] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:37:20,083] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:37:20,083] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:37:20,089] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x6cd1559a, L:/192.168.43.8:58367 - R:/192.168.43.128:8091]
[2023-08-09 16:37:20,090] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 4 ms, version:1.6.1,role:RMROLE,channel:[id: 0x6cd1559a, L:/192.168.43.8:58367 - R:/192.168.43.128:8091]
[2023-08-09 16:37:20,670] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:37:20,674] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:37:20,709] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:37:20,709] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:37:20,788] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$374d9a35] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:37:21,047] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:37:22,620] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:37:22,628] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:37:22,631] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:37:22,631] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:37:22,819] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:37:23,269] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:37:23,279] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:37:23,298] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:37:23,411] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.549 seconds (JVM running for 10.741)
[2023-08-09 16:37:23,415] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:37:23,416] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:37:23,417] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:37:31,331] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:37:31,332] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:37:31,336] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 3 ms
[2023-08-09 16:37:31,568] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[94] - requestId：6dc99e6822f94b96b50bc927c1cda64d
[2023-08-09 16:37:31,718] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] LogUtil[104] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:37:31"}
[2023-08-09 16:37:31,767] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@152a6fd8
[2023-08-09 16:37:31,788] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745753]
[2023-08-09 16:37:32,116] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:37:32,116] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745753
[2023-08-09 16:37:32,117] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:37:32,263] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (146ms)
[2023-08-09 16:37:32,264] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:37:32,264] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:37:32,264] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:37:32 GMT
[2023-08-09 16:37:32,264] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:37:32,264] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:37:32,264] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:37:32,264] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":50,"time":"2023-08-09 08:37:32"}
[2023-08-09 16:37:32,265] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:37:32,272] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=50, time=Wed Aug 09 16:37:32 CST 2023)
[2023-08-09 16:37:32,274] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:37:32,274] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:37:32,297] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (22ms)
[2023-08-09 16:37:32,298] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:37:32 CST 2023)
[2023-08-09 16:37:32,324] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:37:32,332] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908373227217836087(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:37:32,530] [6dc99e6822f94b96b50bc927c1cda64d] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:37:33,247] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745753
[2023-08-09 16:37:33,249] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745753] commit status: Committed
[2023-08-09 16:37:33,256] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] LogUtil[82] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:37:33"}
[2023-08-09 16:37:33,946] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745753,branchId=5566871554652745754,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:37:33,948] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745753 5566871554652745754 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:37:33,949] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:37:43,269] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] LogUtil[303] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:37:43,282] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] LogUtil[377] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"6dc99e6822f94b96b50bc927c1cda64d","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:37:53,297] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] LogUtil[303] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:37:53,298] [6dc99e6822f94b96b50bc927c1cda64d] [INFO] [http-nio-8010-exec-1] LogUtil[377] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"6dc99e6822f94b96b50bc927c1cda64d","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:41:35,074] [logId] [WARN] [Thread-4] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:41:35,074] [logId] [WARN] [Thread-11] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:41:35,075] [logId] [WARN] [Thread-11] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:41:35,077] [logId] [WARN] [Thread-4] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:41:35,299] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:41:35,302] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:41:35,310] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:41:35,312] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:41:35,313] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x4e0976f7, L:/192.168.43.8:58357 ! R:/192.168.43.128:8091]
[2023-08-09 16:41:35,314] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x4e0976f7, L:/192.168.43.8:58357 ! R:/192.168.43.128:8091]
[2023-08-09 16:41:35,314] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x6cd1559a, L:/192.168.43.8:58367 ! R:/192.168.43.128:8091]
[2023-08-09 16:41:35,314] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x4e0976f7, L:/192.168.43.8:58357 ! R:/192.168.43.128:8091]
[2023-08-09 16:41:35,314] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x6cd1559a, L:/192.168.43.8:58367 ! R:/192.168.43.128:8091]
[2023-08-09 16:41:35,314] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x4e0976f7, L:/192.168.43.8:58357 ! R:/192.168.43.128:8091]
[2023-08-09 16:41:35,314] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x6cd1559a, L:/192.168.43.8:58367 ! R:/192.168.43.128:8091]
[2023-08-09 16:41:35,315] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x6cd1559a, L:/192.168.43.8:58367 ! R:/192.168.43.128:8091]
[2023-08-09 16:41:35,315] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4e0976f7, L:/192.168.43.8:58357 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:41:35,315] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6cd1559a, L:/192.168.43.8:58367 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:41:35,315] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x4e0976f7, L:/192.168.43.8:58357 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:41:35,315] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6cd1559a, L:/192.168.43.8:58367 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:41:43,412] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:41:43,419] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:41:43,437] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:41:44,205] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=b49f3c05-b633-3172-968a-4d8d21e5f365
[2023-08-09 16:41:44,253] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,253] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,253] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,272] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,276] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,279] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,280] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$452/1654999368] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,281] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,285] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,288] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:41:44,292] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:41:44,372] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:41:44,384] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:41:44,395] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:41:44,396] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:41:45,008] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:41:45,490] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:41:45,569] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:41:45,569] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:41:45,881] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:41:46,363] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:41:47,352] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x7c939ada, L:/192.168.43.8:58780 - R:/192.168.43.128:8091]
[2023-08-09 16:41:47,357] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 47 ms, version:1.6.1,role:TMROLE,channel:[id: 0x7c939ada, L:/192.168.43.8:58780 - R:/192.168.43.128:8091]
[2023-08-09 16:41:47,357] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:41:47,378] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:41:47,378] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:41:47,384] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:41:47,384] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:41:47,384] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:41:47,719] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:41:47,728] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:41:47,728] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:41:47,729] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:41:47,869] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:41:47,869] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 4422 ms
[2023-08-09 16:41:48,040] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:41:48,385] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:41:48,494] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:41:48,494] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:41:48,495] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:41:48,502] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x0dc1187c, L:/192.168.43.8:58789 - R:/192.168.43.128:8091]
[2023-08-09 16:41:48,503] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 5 ms, version:1.6.1,role:RMROLE,channel:[id: 0x0dc1187c, L:/192.168.43.8:58789 - R:/192.168.43.128:8091]
[2023-08-09 16:41:49,187] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:41:49,194] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:41:49,234] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:41:49,234] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:41:49,338] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$c9ff72c3] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:41:49,631] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:41:51,050] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:41:51,060] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:41:51,063] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:41:51,064] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:41:51,254] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:41:51,612] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:41:51,622] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:41:51,636] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:41:51,756] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 11.466 seconds (JVM running for 12.307)
[2023-08-09 16:41:51,760] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:41:51,762] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:41:51,763] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:43:17,102] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:43:17,103] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:43:17,107] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 4 ms
[2023-08-09 16:43:17,338] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[94] - requestId：d9963a2b5fd14451a174c1394aae8846
[2023-08-09 16:43:17,471] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] LogUtil[104] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:43:17"}
[2023-08-09 16:43:17,512] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@6ab482a9
[2023-08-09 16:43:17,531] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745755]
[2023-08-09 16:43:17,770] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:43:17,773] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745755
[2023-08-09 16:43:17,773] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:43:17,970] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (196ms)
[2023-08-09 16:43:17,971] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:43:17,971] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:43:17,971] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:43:17 GMT
[2023-08-09 16:43:17,971] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:43:17,971] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:43:17,971] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:43:17,972] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":49,"time":"2023-08-09 08:43:17"}
[2023-08-09 16:43:17,972] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:43:17,990] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=49, time=Wed Aug 09 16:43:17 CST 2023)
[2023-08-09 16:43:17,993] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:43:17,994] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:43:18,048] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (54ms)
[2023-08-09 16:43:18,051] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:43:18 CST 2023)
[2023-08-09 16:43:18,114] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:43:18,131] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908431799177696953(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:43:18,407] [d9963a2b5fd14451a174c1394aae8846] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:43:18,555] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745755
[2023-08-09 16:43:18,557] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745755] commit status: Committed
[2023-08-09 16:43:18,560] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] LogUtil[82] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:43:18"}
[2023-08-09 16:43:18,949] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745755,branchId=5566871554652745756,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:43:18,952] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745755 5566871554652745756 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:43:18,953] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:43:28,573] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] LogUtil[303] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:43:28,615] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] LogUtil[377] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"d9963a2b5fd14451a174c1394aae8846","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:43:38,617] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] LogUtil[303] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:43:38,619] [d9963a2b5fd14451a174c1394aae8846] [INFO] [http-nio-8010-exec-1] LogUtil[377] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"d9963a2b5fd14451a174c1394aae8846","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:44:29,206] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:44:29,206] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:44:29,207] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:44:29,207] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:44:29,443] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:44:29,449] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:44:29,458] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:44:29,461] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:44:29,463] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x0dc1187c, L:/192.168.43.8:58789 ! R:/192.168.43.128:8091]
[2023-08-09 16:44:29,463] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x0dc1187c, L:/192.168.43.8:58789 ! R:/192.168.43.128:8091]
[2023-08-09 16:44:29,463] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x0dc1187c, L:/192.168.43.8:58789 ! R:/192.168.43.128:8091]
[2023-08-09 16:44:29,464] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x0dc1187c, L:/192.168.43.8:58789 ! R:/192.168.43.128:8091]
[2023-08-09 16:44:29,464] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x0dc1187c, L:/192.168.43.8:58789 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:44:29,464] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x0dc1187c, L:/192.168.43.8:58789 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:44:34,880] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:44:34,887] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:44:34,906] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:44:35,623] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=b49f3c05-b633-3172-968a-4d8d21e5f365
[2023-08-09 16:44:35,678] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,678] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,679] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,699] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,701] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,702] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,703] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$452/571585615] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,704] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,706] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,707] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:44:35,708] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:44:35,753] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:44:35,759] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:44:35,766] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:44:35,766] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:44:36,137] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:44:36,248] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:44:36,268] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:44:36,269] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:44:36,469] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:44:36,816] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:44:37,388] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x1ebb2d14, L:/192.168.43.8:58966 - R:/192.168.43.128:8091]
[2023-08-09 16:44:37,392] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 43 ms, version:1.6.1,role:TMROLE,channel:[id: 0x1ebb2d14, L:/192.168.43.8:58966 - R:/192.168.43.128:8091]
[2023-08-09 16:44:37,393] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:44:37,418] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:44:37,418] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:44:37,424] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:44:37,424] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:44:37,424] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:44:37,760] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:44:37,766] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:44:37,767] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:44:37,767] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:44:37,887] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:44:37,887] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 2970 ms
[2023-08-09 16:44:38,145] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:44:38,343] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:44:38,450] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:44:38,450] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:44:38,450] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:44:38,457] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x56ec2b36, L:/192.168.43.8:58976 - R:/192.168.43.128:8091]
[2023-08-09 16:44:38,457] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 4 ms, version:1.6.1,role:RMROLE,channel:[id: 0x56ec2b36, L:/192.168.43.8:58976 - R:/192.168.43.128:8091]
[2023-08-09 16:44:39,330] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:44:39,339] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:44:39,378] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:44:39,378] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:44:39,476] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$ffff7349] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:44:44,001] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:44:45,364] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:44:45,372] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:44:45,375] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:44:45,375] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:44:45,568] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:44:45,884] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:44:45,893] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:44:45,907] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:44:46,010] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 14.457 seconds (JVM running for 15.277)
[2023-08-09 16:44:46,017] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:44:46,019] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:44:46,020] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:44:57,265] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:44:57,266] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:44:57,281] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 14 ms
[2023-08-09 16:45:02,243] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[94] - requestId：1c4223333aa9477cbc4ee213ddc574c7
[2023-08-09 16:45:02,300] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] LogUtil[104] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:45:01"}
[2023-08-09 16:45:02,323] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@338ebea3
[2023-08-09 16:45:02,330] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745757]
[2023-08-09 16:45:03,816] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:45:03,816] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745757
[2023-08-09 16:45:03,816] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:45:03,918] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (101ms)
[2023-08-09 16:45:03,919] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:45:03,919] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:45:03,919] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:45:03 GMT
[2023-08-09 16:45:03,919] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:45:03,919] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:45:03,919] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:45:03,919] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":48,"time":"2023-08-09 08:45:03"}
[2023-08-09 16:45:03,920] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:45:03,927] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=48, time=Wed Aug 09 16:45:03 CST 2023)
[2023-08-09 16:45:05,806] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:45:05,807] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:45:05,842] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (35ms)
[2023-08-09 16:45:05,844] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:45:05 CST 2023)
[2023-08-09 16:45:05,873] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:45:05,880] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908450392860585060(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:45:06,002] [1c4223333aa9477cbc4ee213ddc574c7] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:45:06,100] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745757
[2023-08-09 16:45:06,101] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745757] commit status: Committed
[2023-08-09 16:45:06,104] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] LogUtil[82] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:45:06"}
[2023-08-09 16:45:06,947] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745757,branchId=5566871554652745758,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:45:06,949] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745757 5566871554652745758 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:45:06,950] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:45:16,116] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] LogUtil[303] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:45:16,129] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] LogUtil[377] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"1c4223333aa9477cbc4ee213ddc574c7","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:45:26,145] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] LogUtil[303] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:45:26,146] [1c4223333aa9477cbc4ee213ddc574c7] [INFO] [http-nio-8010-exec-1] LogUtil[377] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"1c4223333aa9477cbc4ee213ddc574c7","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:48:17,336] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:48:17,336] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:48:17,338] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:48:17,338] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:48:17,566] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:48:17,570] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:48:17,580] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:48:17,583] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:48:17,585] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x1ebb2d14, L:/192.168.43.8:58966 ! R:/192.168.43.128:8091]
[2023-08-09 16:48:17,585] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x1ebb2d14, L:/192.168.43.8:58966 ! R:/192.168.43.128:8091]
[2023-08-09 16:48:17,585] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x56ec2b36, L:/192.168.43.8:58976 ! R:/192.168.43.128:8091]
[2023-08-09 16:48:17,585] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x1ebb2d14, L:/192.168.43.8:58966 ! R:/192.168.43.128:8091]
[2023-08-09 16:48:17,585] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x56ec2b36, L:/192.168.43.8:58976 ! R:/192.168.43.128:8091]
[2023-08-09 16:48:17,585] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x56ec2b36, L:/192.168.43.8:58976 ! R:/192.168.43.128:8091]
[2023-08-09 16:48:17,585] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x1ebb2d14, L:/192.168.43.8:58966 ! R:/192.168.43.128:8091]
[2023-08-09 16:48:17,586] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x56ec2b36, L:/192.168.43.8:58976 ! R:/192.168.43.128:8091]
[2023-08-09 16:48:17,586] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x1ebb2d14, L:/192.168.43.8:58966 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:48:17,586] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x56ec2b36, L:/192.168.43.8:58976 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:48:17,586] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x56ec2b36, L:/192.168.43.8:58976 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:48:17,586] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x1ebb2d14, L:/192.168.43.8:58966 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:48:30,817] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:48:30,824] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:48:30,842] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:48:31,586] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=b49f3c05-b633-3172-968a-4d8d21e5f365
[2023-08-09 16:48:31,637] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,638] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,638] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,656] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,659] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,660] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,661] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$452/1655939830] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,661] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,663] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,665] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:48:31,667] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:48:31,712] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:48:31,717] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:48:31,723] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:48:31,723] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:48:32,163] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:48:32,332] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:48:32,357] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:48:32,358] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:48:32,594] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:48:33,000] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:48:33,977] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x422b6d5a, L:/192.168.43.8:59257 - R:/192.168.43.128:8091]
[2023-08-09 16:48:33,982] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 75 ms, version:1.6.1,role:TMROLE,channel:[id: 0x422b6d5a, L:/192.168.43.8:59257 - R:/192.168.43.128:8091]
[2023-08-09 16:48:33,983] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:48:34,005] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:48:34,006] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:48:34,013] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:48:34,013] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:48:34,013] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:48:34,386] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:48:34,394] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:48:34,394] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:48:34,395] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:48:34,523] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:48:34,523] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 3671 ms
[2023-08-09 16:48:34,669] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:48:35,019] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:48:35,125] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:48:35,125] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:48:35,126] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:48:35,132] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xe1df8bb8, L:/192.168.43.8:59268 - R:/192.168.43.128:8091]
[2023-08-09 16:48:35,133] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 4 ms, version:1.6.1,role:RMROLE,channel:[id: 0xe1df8bb8, L:/192.168.43.8:59268 - R:/192.168.43.128:8091]
[2023-08-09 16:48:35,974] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:48:35,980] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:48:36,021] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:48:36,021] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:48:36,123] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$6449c753] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:48:36,420] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:48:38,062] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:48:38,071] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:48:38,075] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:48:38,075] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:48:38,270] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:48:38,632] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:48:38,642] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:48:38,659] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:48:38,795] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 11.64 seconds (JVM running for 12.887)
[2023-08-09 16:48:38,801] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:48:38,820] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:48:38,821] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:49:07,223] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:49:07,223] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:49:07,229] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 6 ms
[2023-08-09 16:49:07,486] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[75] - requestId：b94c98276377489c89189c9143e57b5c
[2023-08-09 16:49:07,650] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] LogUtil[85] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:49:07"}
[2023-08-09 16:49:07,708] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@6ab482a9
[2023-08-09 16:49:07,763] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745759]
[2023-08-09 16:49:08,168] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:49:08,171] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745759
[2023-08-09 16:49:08,171] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:49:08,588] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (416ms)
[2023-08-09 16:49:08,589] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:49:08,589] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:49:08,589] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:49:08 GMT
[2023-08-09 16:49:08,590] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:49:08,590] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:49:08,590] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:49:08,590] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":47,"time":"2023-08-09 08:49:08"}
[2023-08-09 16:49:08,591] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:49:08,606] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=47, time=Wed Aug 09 16:49:08 CST 2023)
[2023-08-09 16:49:08,610] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:49:08,611] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:49:08,664] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (52ms)
[2023-08-09 16:49:08,666] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:49:08 CST 2023)
[2023-08-09 16:49:08,699] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:49:08,710] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908490860723303755(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:49:08,887] [b94c98276377489c89189c9143e57b5c] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:49:09,207] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745759
[2023-08-09 16:49:09,208] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745759] commit status: Committed
[2023-08-09 16:49:09,220] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] LogUtil[64] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:49:09"}
[2023-08-09 16:49:09,955] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745759,branchId=5566871554652745760,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:49:09,959] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745759 5566871554652745760 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:49:09,962] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:49:19,223] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] LogUtil[284] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:49:19,236] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] LogUtil[358] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"b94c98276377489c89189c9143e57b5c","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:49:29,252] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] LogUtil[284] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:49:29,253] [b94c98276377489c89189c9143e57b5c] [INFO] [http-nio-8010-exec-1] LogUtil[358] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"b94c98276377489c89189c9143e57b5c","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 16:55:27,352] [logId] [WARN] [Thread-11] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:55:27,352] [logId] [WARN] [Thread-4] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:55:27,352] [logId] [WARN] [Thread-11] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:55:27,353] [logId] [WARN] [Thread-4] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:55:27,690] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:55:27,694] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:55:27,707] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:55:27,710] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:55:27,712] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xe1df8bb8, L:/192.168.43.8:59268 ! R:/192.168.43.128:8091]
[2023-08-09 16:55:27,712] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x422b6d5a, L:/192.168.43.8:59257 ! R:/192.168.43.128:8091]
[2023-08-09 16:55:27,713] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xe1df8bb8, L:/192.168.43.8:59268 ! R:/192.168.43.128:8091]
[2023-08-09 16:55:27,713] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x422b6d5a, L:/192.168.43.8:59257 ! R:/192.168.43.128:8091]
[2023-08-09 16:55:27,713] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xe1df8bb8, L:/192.168.43.8:59268 ! R:/192.168.43.128:8091]
[2023-08-09 16:55:27,713] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x422b6d5a, L:/192.168.43.8:59257 ! R:/192.168.43.128:8091]
[2023-08-09 16:55:27,713] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x422b6d5a, L:/192.168.43.8:59257 ! R:/192.168.43.128:8091]
[2023-08-09 16:55:27,713] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xe1df8bb8, L:/192.168.43.8:59268 ! R:/192.168.43.128:8091]
[2023-08-09 16:55:27,713] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xe1df8bb8, L:/192.168.43.8:59268 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:55:27,713] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x422b6d5a, L:/192.168.43.8:59257 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:55:27,714] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x422b6d5a, L:/192.168.43.8:59257 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:55:27,714] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xe1df8bb8, L:/192.168.43.8:59268 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:55:37,050] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:55:37,055] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:55:37,077] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:55:37,791] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=b49f3c05-b633-3172-968a-4d8d21e5f365
[2023-08-09 16:55:37,843] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,844] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,844] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,863] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,866] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,868] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,868] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$452/1143499107] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,869] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,871] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,873] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:55:37,874] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:55:37,918] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:55:37,924] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:55:37,930] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:55:37,930] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:55:38,327] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:55:38,443] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:55:38,463] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:55:38,463] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:55:38,672] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:55:38,875] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:55:39,401] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xac217cbf, L:/192.168.43.8:59682 - R:/192.168.43.128:8091]
[2023-08-09 16:55:39,405] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 42 ms, version:1.6.1,role:TMROLE,channel:[id: 0xac217cbf, L:/192.168.43.8:59682 - R:/192.168.43.128:8091]
[2023-08-09 16:55:39,406] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:55:39,426] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:55:39,426] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:55:39,431] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:55:39,431] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:55:39,431] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:55:39,753] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:55:39,759] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:55:39,759] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:55:39,759] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:55:39,871] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:55:39,871] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 2782 ms
[2023-08-09 16:55:40,008] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:55:40,381] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:55:40,511] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:55:40,511] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:55:40,512] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:55:40,519] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xe1750d89, L:/192.168.43.8:59692 - R:/192.168.43.128:8091]
[2023-08-09 16:55:40,519] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 4 ms, version:1.6.1,role:RMROLE,channel:[id: 0xe1750d89, L:/192.168.43.8:59692 - R:/192.168.43.128:8091]
[2023-08-09 16:55:41,474] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:55:41,480] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:55:41,524] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:55:41,524] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:55:41,624] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$feacffd9] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:55:41,923] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:55:43,405] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:55:43,415] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:55:43,418] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:55:43,419] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:55:43,613] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:55:44,060] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:55:44,070] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:55:44,086] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:55:44,206] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.866 seconds (JVM running for 10.616)
[2023-08-09 16:55:44,212] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:55:44,214] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:55:44,215] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:57:16,569] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:57:16,569] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:57:16,573] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 3 ms
[2023-08-09 16:57:16,825] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[75] - requestId：ce83bab56b42457a9ca1bb2fb5d52c09
[2023-08-09 16:57:17,016] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] LogUtil[85] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:57:16"}
[2023-08-09 16:57:17,043] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@2699075d
[2023-08-09 16:57:17,056] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745761]
[2023-08-09 16:57:17,257] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:57:17,258] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745761
[2023-08-09 16:57:17,258] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:57:17,362] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (103ms)
[2023-08-09 16:57:17,362] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:57:17,362] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:57:17,362] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:57:17 GMT
[2023-08-09 16:57:17,363] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:57:17,363] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:57:17,363] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:57:17,363] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":46,"time":"2023-08-09 08:57:17"}
[2023-08-09 16:57:17,363] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:57:17,371] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=46, time=Wed Aug 09 16:57:17 CST 2023)
[2023-08-09 16:57:17,373] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:57:17,374] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:57:17,412] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (37ms)
[2023-08-09 16:57:17,413] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:57:17 CST 2023)
[2023-08-09 16:57:17,444] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:57:17,454] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908571737280221722(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:57:17,814] [ce83bab56b42457a9ca1bb2fb5d52c09] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:57:18,024] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745761
[2023-08-09 16:57:18,025] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745761] commit status: Committed
[2023-08-09 16:57:18,029] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] LogUtil[64] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:57:18"}
[2023-08-09 16:57:18,034] [ce83bab56b42457a9ca1bb2fb5d52c09] [INFO] [http-nio-8010-exec-1] AnnotationAsyncExecutionInterceptor[243] - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [asyncExecutor, taskScheduler]
[2023-08-09 16:57:18,978] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745761,branchId=5566871554652745762,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:57:18,983] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745761 5566871554652745762 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:57:18,985] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:57:28,065] [logId] [INFO] [SimpleAsyncTaskExecutor-1] LogUtil[260] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:57:28,071] [logId] [INFO] [SimpleAsyncTaskExecutor-1] LogUtil[334] - 日志信息：{"code":200,"message":"操作成功","success":true,"userId":10000}
[2023-08-09 16:57:55,245] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 16:57:55,245] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 16:57:55,246] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 16:57:55,247] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 16:57:55,460] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 16:57:55,464] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 16:57:55,474] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 16:57:55,478] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 16:57:55,480] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xe1750d89, L:/192.168.43.8:59692 ! R:/192.168.43.128:8091]
[2023-08-09 16:57:55,480] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xe1750d89, L:/192.168.43.8:59692 ! R:/192.168.43.128:8091]
[2023-08-09 16:57:55,480] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xe1750d89, L:/192.168.43.8:59692 ! R:/192.168.43.128:8091]
[2023-08-09 16:57:55,480] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xe1750d89, L:/192.168.43.8:59692 ! R:/192.168.43.128:8091]
[2023-08-09 16:57:55,480] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xe1750d89, L:/192.168.43.8:59692 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:57:55,481] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xe1750d89, L:/192.168.43.8:59692 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 16:58:05,299] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 16:58:05,305] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 16:58:05,323] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 16:58:06,190] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=b49f3c05-b633-3172-968a-4d8d21e5f365
[2023-08-09 16:58:06,245] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,246] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,246] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,265] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,267] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,269] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,270] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$452/745642964] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,270] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,272] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,274] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 16:58:06,276] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 16:58:06,333] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 16:58:06,341] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 16:58:06,348] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:58:06,348] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:58:06,766] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 16:58:06,907] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:58:06,933] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:58:06,933] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:58:07,166] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:58:07,496] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:58:08,046] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x657929a3, L:/192.168.43.8:59878 - R:/192.168.43.128:8091]
[2023-08-09 16:58:08,051] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 44 ms, version:1.6.1,role:TMROLE,channel:[id: 0x657929a3, L:/192.168.43.8:59878 - R:/192.168.43.128:8091]
[2023-08-09 16:58:08,052] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:58:08,070] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 16:58:08,071] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 16:58:08,075] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 16:58:08,075] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 16:58:08,075] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 16:58:08,364] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 16:58:08,370] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:58:08,371] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 16:58:08,371] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 16:58:08,486] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 16:58:08,487] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 3154 ms
[2023-08-09 16:58:08,630] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 16:58:08,945] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 16:58:09,050] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 16:58:09,050] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 16:58:09,051] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 16:58:09,059] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x7e579c15, L:/192.168.43.8:59887 - R:/192.168.43.128:8091]
[2023-08-09 16:58:09,059] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 5 ms, version:1.6.1,role:RMROLE,channel:[id: 0x7e579c15, L:/192.168.43.8:59887 - R:/192.168.43.128:8091]
[2023-08-09 16:58:09,702] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:58:09,708] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:58:09,746] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 16:58:09,746] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 16:58:09,855] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$e8891748] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 16:58:10,145] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 16:58:11,462] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 16:58:11,472] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 16:58:11,475] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 16:58:11,476] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 16:58:11,665] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 16:58:12,037] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 16:58:12,045] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 16:58:12,058] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 16:58:12,176] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.769 seconds (JVM running for 10.598)
[2023-08-09 16:58:12,180] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 16:58:12,182] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 16:58:12,182] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 16:58:53,595] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 16:58:53,595] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 16:58:53,600] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 4 ms
[2023-08-09 16:58:53,872] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[75] - requestId：4d04c1221a074a799e5cc7303c11a230
[2023-08-09 16:58:54,048] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] LogUtil[85] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 16:58:53"}
[2023-08-09 16:58:54,104] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@4959d999
[2023-08-09 16:58:54,125] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745763]
[2023-08-09 16:58:54,391] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 16:58:54,393] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745763
[2023-08-09 16:58:54,394] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 16:58:54,722] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (327ms)
[2023-08-09 16:58:54,723] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 16:58:54,723] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 16:58:54,723] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 08:58:54 GMT
[2023-08-09 16:58:54,724] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 16:58:54,724] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 16:58:54,725] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 16:58:54,725] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":45,"time":"2023-08-09 08:58:54"}
[2023-08-09 16:58:54,726] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 16:58:54,745] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=45, time=Wed Aug 09 16:58:54 CST 2023)
[2023-08-09 16:58:54,754] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 16:58:54,755] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 16:58:54,800] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (44ms)
[2023-08-09 16:58:54,801] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 16:58:54 CST 2023)
[2023-08-09 16:58:54,861] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 16:58:54,869] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080908585474687814746(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 16:58:55,016] [4d04c1221a074a799e5cc7303c11a230] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 16:58:55,090] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745763
[2023-08-09 16:58:55,091] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745763] commit status: Committed
[2023-08-09 16:58:55,093] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] LogUtil[64] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 16:58:55"}
[2023-08-09 16:58:55,095] [4d04c1221a074a799e5cc7303c11a230] [INFO] [http-nio-8010-exec-1] AnnotationAsyncExecutionInterceptor[243] - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [asyncExecutor, taskScheduler]
[2023-08-09 16:58:55,958] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745763,branchId=5566871554652745764,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:58:55,963] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745763 5566871554652745764 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 16:58:55,965] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 16:59:05,096] [logId] [INFO] [SimpleAsyncTaskExecutor-1] LogUtil[260] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:59:05,096] [logId] [INFO] [SimpleAsyncTaskExecutor-2] LogUtil[260] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 16:59:05,102] [logId] [INFO] [SimpleAsyncTaskExecutor-2] LogUtil[334] - 日志信息：{"code":200,"message":"操作成功","success":true,"userId":10000}
[2023-08-09 16:59:05,102] [logId] [INFO] [SimpleAsyncTaskExecutor-1] LogUtil[334] - 日志信息：{"code":200,"message":"操作成功","success":true,"userId":10000}
[2023-08-09 17:01:07,331] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 17:01:07,331] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 17:01:07,331] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 17:01:07,333] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 17:01:07,571] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 17:01:07,574] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 17:01:07,585] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 17:01:07,587] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 17:01:07,588] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x657929a3, L:/192.168.43.8:59878 ! R:/192.168.43.128:8091]
[2023-08-09 17:01:07,588] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x657929a3, L:/192.168.43.8:59878 ! R:/192.168.43.128:8091]
[2023-08-09 17:01:07,588] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x7e579c15, L:/192.168.43.8:59887 ! R:/192.168.43.128:8091]
[2023-08-09 17:01:07,588] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x657929a3, L:/192.168.43.8:59878 ! R:/192.168.43.128:8091]
[2023-08-09 17:01:07,588] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x7e579c15, L:/192.168.43.8:59887 ! R:/192.168.43.128:8091]
[2023-08-09 17:01:07,589] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x657929a3, L:/192.168.43.8:59878 ! R:/192.168.43.128:8091]
[2023-08-09 17:01:07,589] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x7e579c15, L:/192.168.43.8:59887 ! R:/192.168.43.128:8091]
[2023-08-09 17:01:07,589] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x7e579c15, L:/192.168.43.8:59887 ! R:/192.168.43.128:8091]
[2023-08-09 17:01:07,589] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x7e579c15, L:/192.168.43.8:59887 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:01:07,589] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x657929a3, L:/192.168.43.8:59878 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:01:07,590] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x657929a3, L:/192.168.43.8:59878 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:01:07,590] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x7e579c15, L:/192.168.43.8:59887 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:01:16,442] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 17:01:16,448] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 17:01:16,465] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 17:01:17,264] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=b49f3c05-b633-3172-968a-4d8d21e5f365
[2023-08-09 17:01:17,319] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,320] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,320] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,341] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,343] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,345] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,345] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$452/1654999368] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,346] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,349] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,351] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:01:17,353] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 17:01:17,399] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 17:01:17,404] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 17:01:17,410] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:01:17,410] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:01:17,770] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 17:01:17,881] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 17:01:17,903] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:01:17,903] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:01:18,115] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 17:01:18,382] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 17:01:18,988] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xcb05fb46, L:/192.168.43.8:60122 - R:/192.168.43.128:8091]
[2023-08-09 17:01:18,995] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 53 ms, version:1.6.1,role:TMROLE,channel:[id: 0xcb05fb46, L:/192.168.43.8:60122 - R:/192.168.43.128:8091]
[2023-08-09 17:01:18,995] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 17:01:19,018] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 17:01:19,019] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 17:01:19,025] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 17:01:19,025] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 17:01:19,025] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 17:01:19,404] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 17:01:19,413] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 17:01:19,413] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 17:01:19,413] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 17:01:19,555] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 17:01:19,556] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 3081 ms
[2023-08-09 17:01:19,737] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 17:01:20,062] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 17:01:20,178] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 17:01:20,178] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 17:01:20,179] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 17:01:20,185] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x52fc735e, L:/192.168.43.8:60130 - R:/192.168.43.128:8091]
[2023-08-09 17:01:20,185] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 3 ms, version:1.6.1,role:RMROLE,channel:[id: 0x52fc735e, L:/192.168.43.8:60130 - R:/192.168.43.128:8091]
[2023-08-09 17:01:20,871] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 17:01:20,876] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 17:01:20,915] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 17:01:20,915] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 17:01:21,010] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$c9ff72c3] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 17:01:21,368] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 17:01:22,830] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 17:01:22,840] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 17:01:22,842] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:01:22,843] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:01:23,023] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 17:01:23,394] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 17:01:23,404] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 17:01:23,421] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 17:01:23,528] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 10.383 seconds (JVM running for 11.126)
[2023-08-09 17:01:23,532] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 17:01:23,534] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 17:01:23,534] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 17:28:00,909] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 17:28:00,909] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 17:28:00,910] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 17:28:00,910] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 17:28:01,126] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 17:28:01,130] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 17:28:01,139] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 17:28:01,142] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 17:28:01,143] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xcb05fb46, L:/192.168.43.8:60122 ! R:/192.168.43.128:8091]
[2023-08-09 17:28:01,144] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x52fc735e, L:/192.168.43.8:60130 ! R:/192.168.43.128:8091]
[2023-08-09 17:28:01,144] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xcb05fb46, L:/192.168.43.8:60122 ! R:/192.168.43.128:8091]
[2023-08-09 17:28:01,144] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x52fc735e, L:/192.168.43.8:60130 ! R:/192.168.43.128:8091]
[2023-08-09 17:28:01,144] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xcb05fb46, L:/192.168.43.8:60122 ! R:/192.168.43.128:8091]
[2023-08-09 17:28:01,144] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x52fc735e, L:/192.168.43.8:60130 ! R:/192.168.43.128:8091]
[2023-08-09 17:28:01,145] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xcb05fb46, L:/192.168.43.8:60122 ! R:/192.168.43.128:8091]
[2023-08-09 17:28:01,145] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x52fc735e, L:/192.168.43.8:60130 ! R:/192.168.43.128:8091]
[2023-08-09 17:28:01,145] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xcb05fb46, L:/192.168.43.8:60122 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:28:01,145] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x52fc735e, L:/192.168.43.8:60130 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:28:01,145] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x52fc735e, L:/192.168.43.8:60130 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:28:01,145] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xcb05fb46, L:/192.168.43.8:60122 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:28:08,469] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 17:28:08,474] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 17:28:08,489] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 17:28:09,149] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=b49f3c05-b633-3172-968a-4d8d21e5f365
[2023-08-09 17:28:09,206] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,207] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,207] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,228] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,231] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,233] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,234] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$452/1354314579] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,234] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,236] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,238] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:28:09,239] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 17:28:09,285] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 17:28:09,290] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 17:28:09,296] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:28:09,296] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:28:09,682] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 17:28:09,793] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 17:28:09,811] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:28:09,811] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:28:10,013] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 17:28:10,268] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 17:28:10,785] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x750091ca, L:/192.168.43.8:61903 - R:/192.168.43.128:8091]
[2023-08-09 17:28:10,790] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 39 ms, version:1.6.1,role:TMROLE,channel:[id: 0x750091ca, L:/192.168.43.8:61903 - R:/192.168.43.128:8091]
[2023-08-09 17:28:10,790] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 17:28:10,807] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 17:28:10,808] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 17:28:10,812] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 17:28:10,812] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 17:28:10,812] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 17:28:11,081] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 17:28:11,087] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 17:28:11,087] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 17:28:11,087] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 17:28:11,196] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 17:28:11,196] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 2698 ms
[2023-08-09 17:28:11,321] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 17:28:11,618] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 17:28:11,715] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 17:28:11,716] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 17:28:11,716] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 17:28:11,724] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x277a0ea8, L:/192.168.43.8:61913 - R:/192.168.43.128:8091]
[2023-08-09 17:28:11,724] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 5 ms, version:1.6.1,role:RMROLE,channel:[id: 0x277a0ea8, L:/192.168.43.8:61913 - R:/192.168.43.128:8091]
[2023-08-09 17:28:12,337] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 17:28:12,342] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 17:28:12,377] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 17:28:12,378] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 17:28:12,455] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$bd7aca35] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 17:28:12,720] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 17:28:14,191] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 17:28:14,200] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 17:28:14,202] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:28:14,202] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:28:14,398] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 17:28:14,747] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 17:28:14,755] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 17:28:14,767] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 17:28:14,854] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.121 seconds (JVM running for 9.829)
[2023-08-09 17:28:14,862] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 17:28:14,867] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 17:28:14,867] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 17:28:19,863] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 17:28:19,865] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 17:28:19,867] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 2 ms
[2023-08-09 17:28:20,154] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[75] - requestId：06c59a80e6254a92a86952c2eba63c47
[2023-08-09 17:28:20,469] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] LogUtil[85] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 17:28:20"}
[2023-08-09 17:28:20,494] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@2a6a041e
[2023-08-09 17:28:20,503] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745765]
[2023-08-09 17:28:20,683] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 17:28:20,683] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745765
[2023-08-09 17:28:20,684] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 17:28:20,795] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (111ms)
[2023-08-09 17:28:20,795] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 17:28:20,795] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 17:28:20,795] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 09:28:20 GMT
[2023-08-09 17:28:20,796] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 17:28:20,796] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 17:28:20,796] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 17:28:20,796] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":44,"time":"2023-08-09 09:28:20"}
[2023-08-09 17:28:20,796] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 17:28:20,804] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=44, time=Wed Aug 09 17:28:20 CST 2023)
[2023-08-09 17:28:20,806] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 17:28:20,807] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 17:28:20,832] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (25ms)
[2023-08-09 17:28:20,834] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 17:28:20 CST 2023)
[2023-08-09 17:28:20,859] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 17:28:20,867] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080909282080485440371(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 17:28:21,550] [06c59a80e6254a92a86952c2eba63c47] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 17:28:21,892] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745765
[2023-08-09 17:28:21,894] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745765] commit status: Committed
[2023-08-09 17:28:21,901] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] LogUtil[64] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 17:28:21"}
[2023-08-09 17:28:21,905] [06c59a80e6254a92a86952c2eba63c47] [INFO] [http-nio-8010-exec-1] AnnotationAsyncExecutionInterceptor[243] - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [asyncExecutor, taskScheduler]
[2023-08-09 17:28:21,968] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745765,branchId=5566871554652745766,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 17:28:21,974] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745765 5566871554652745766 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 17:28:21,979] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 17:28:31,929] [logId] [INFO] [SimpleAsyncTaskExecutor-1] LogUtil[260] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 17:28:31,942] [logId] [INFO] [SimpleAsyncTaskExecutor-1] LogUtil[334] - 日志信息：{"code":200,"message":"操作成功","success":true,"userId":10000}
[2023-08-09 17:38:34,071] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 17:38:34,071] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 17:38:34,071] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 17:38:34,072] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 17:38:34,287] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 17:38:34,292] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 17:38:34,303] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 17:38:34,306] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 17:38:34,308] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x277a0ea8, L:/192.168.43.8:61913 ! R:/192.168.43.128:8091]
[2023-08-09 17:38:34,308] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x277a0ea8, L:/192.168.43.8:61913 ! R:/192.168.43.128:8091]
[2023-08-09 17:38:34,309] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x277a0ea8, L:/192.168.43.8:61913 ! R:/192.168.43.128:8091]
[2023-08-09 17:38:34,309] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x277a0ea8, L:/192.168.43.8:61913 ! R:/192.168.43.128:8091]
[2023-08-09 17:38:34,309] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x277a0ea8, L:/192.168.43.8:61913 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:38:34,309] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x277a0ea8, L:/192.168.43.8:61913 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:38:42,416] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 17:38:42,421] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 17:38:42,437] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 17:38:43,085] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=b49f3c05-b633-3172-968a-4d8d21e5f365
[2023-08-09 17:38:43,132] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,132] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,133] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,153] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,156] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,158] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,158] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$452/1110103522] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,159] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,161] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,162] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:38:43,163] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 17:38:43,205] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 17:38:43,211] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 17:38:43,217] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:38:43,217] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:38:43,609] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 17:38:43,730] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 17:38:43,748] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:38:43,748] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:38:43,962] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 17:38:44,192] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 17:38:44,717] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x52e6b5f6, L:/192.168.43.8:62864 - R:/192.168.43.128:8091]
[2023-08-09 17:38:44,721] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 38 ms, version:1.6.1,role:TMROLE,channel:[id: 0x52e6b5f6, L:/192.168.43.8:62864 - R:/192.168.43.128:8091]
[2023-08-09 17:38:44,722] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 17:38:44,738] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 17:38:44,739] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 17:38:44,743] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 17:38:44,744] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 17:38:44,744] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 17:38:45,013] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 17:38:45,019] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 17:38:45,020] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 17:38:45,020] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 17:38:45,133] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 17:38:45,133] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 2686 ms
[2023-08-09 17:38:45,255] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 17:38:45,578] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 17:38:45,688] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 17:38:45,688] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 17:38:45,689] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 17:38:45,696] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xa600b9e4, L:/192.168.43.8:62874 - R:/192.168.43.128:8091]
[2023-08-09 17:38:45,697] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 5 ms, version:1.6.1,role:RMROLE,channel:[id: 0xa600b9e4, L:/192.168.43.8:62874 - R:/192.168.43.128:8091]
[2023-08-09 17:38:46,360] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 17:38:46,366] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 17:38:46,403] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 17:38:46,403] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 17:38:46,490] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b45d917c] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 17:38:46,771] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 17:38:48,002] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 17:38:48,022] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 17:38:48,024] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:38:48,024] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:38:48,207] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 17:38:48,640] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 17:38:48,648] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 17:38:48,660] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 17:38:48,761] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 9.606 seconds (JVM running for 10.306)
[2023-08-09 17:38:48,770] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 17:38:48,772] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 17:38:48,772] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 17:38:51,839] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 17:38:51,841] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 17:38:51,845] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 4 ms
[2023-08-09 17:38:52,063] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[75] - requestId：5df86afee5fc4350971426643f1c4dd9
[2023-08-09 17:38:52,221] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] LogUtil[85] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 17:38:52"}
[2023-08-09 17:38:52,269] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@523593e2
[2023-08-09 17:38:52,293] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745767]
[2023-08-09 17:38:52,606] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 17:38:52,607] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745767
[2023-08-09 17:38:52,607] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 17:38:52,760] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (152ms)
[2023-08-09 17:38:52,761] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 17:38:52,762] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 17:38:52,762] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 09:38:52 GMT
[2023-08-09 17:38:52,762] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 17:38:52,763] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 17:38:52,763] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 17:38:52,763] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":43,"time":"2023-08-09 09:38:52"}
[2023-08-09 17:38:52,763] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 17:38:52,775] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=43, time=Wed Aug 09 17:38:52 CST 2023)
[2023-08-09 17:38:52,779] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 17:38:52,779] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 17:38:52,814] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (34ms)
[2023-08-09 17:38:52,815] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 17:38:52 CST 2023)
[2023-08-09 17:38:52,849] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 17:38:52,859] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080909385277649878451(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 17:38:53,041] [5df86afee5fc4350971426643f1c4dd9] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 17:38:53,258] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745767
[2023-08-09 17:38:53,259] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745767] commit status: Committed
[2023-08-09 17:38:53,263] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] LogUtil[64] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 17:38:53"}
[2023-08-09 17:38:53,267] [5df86afee5fc4350971426643f1c4dd9] [INFO] [http-nio-8010-exec-1] AnnotationAsyncExecutionInterceptor[243] - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [asyncExecutor, taskScheduler]
[2023-08-09 17:38:53,969] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745767,branchId=5566871554652745768,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 17:38:53,971] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745767 5566871554652745768 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 17:38:53,972] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 17:39:03,320] [logId] [INFO] [SimpleAsyncTaskExecutor-1] LogUtil[260] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 17:39:03,325] [logId] [INFO] [SimpleAsyncTaskExecutor-1] LogUtil[334] - 日志信息：{"code":200,"message":"操作成功","success":true,"userId":10000}
[2023-08-09 17:40:38,712] [logId] [WARN] [Thread-10] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 17:40:38,712] [logId] [WARN] [Thread-3] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 17:40:38,712] [logId] [WARN] [Thread-10] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 17:40:38,713] [logId] [WARN] [Thread-3] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 17:40:39,062] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 17:40:39,065] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 17:40:39,077] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 17:40:39,080] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 17:40:39,082] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xa600b9e4, L:/192.168.43.8:62874 ! R:/192.168.43.128:8091]
[2023-08-09 17:40:39,083] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xa600b9e4, L:/192.168.43.8:62874 ! R:/192.168.43.128:8091]
[2023-08-09 17:40:39,083] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xa600b9e4, L:/192.168.43.8:62874 ! R:/192.168.43.128:8091]
[2023-08-09 17:40:39,083] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xa600b9e4, L:/192.168.43.8:62874 ! R:/192.168.43.128:8091]
[2023-08-09 17:40:39,083] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xa600b9e4, L:/192.168.43.8:62874 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:40:39,083] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xa600b9e4, L:/192.168.43.8:62874 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:40:46,018] [logId] [WARN] [main] NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[order-service.yaml] & group[DEFAULT_GROUP]
[2023-08-09 17:40:46,029] [logId] [INFO] [main] PropertySourceBootstrapConfiguration[109] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-sakura.yaml,DEFAULT_GROUP'}]
[2023-08-09 17:40:46,059] [logId] [INFO] [main] OrderApplication[651] - The following 1 profile is active: "dev"
[2023-08-09 17:40:47,299] [logId] [INFO] [main] GenericScope[283] - BeanFactory id=0b52230f-148d-388b-b6e3-546de0d43736
[2023-08-09 17:40:47,357] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,357] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,358] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,385] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,388] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,391] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,391] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$444/987263357] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,392] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,396] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,399] [logId] [INFO] [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker[376] - Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[2023-08-09 17:40:47,401] [logId] [INFO] [main] SeataAutoConfiguration[63] - Automatically configure Seata
[2023-08-09 17:40:47,466] [logId] [INFO] [main] ConfigurationFactory[69] - load Configuration from :Spring Configuration
[2023-08-09 17:40:47,475] [logId] [INFO] [main] NacosConfiguration[233] - Nacos check auth with userName/password.
[2023-08-09 17:40:47,483] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:40:47,484] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:40:47,925] [logId] [INFO] [main] GlobalTransactionScanner[208] - Initializing Global Transaction Clients ... 
[2023-08-09 17:40:48,067] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 17:40:48,098] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:40:48,098] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:40:48,323] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 17:40:48,602] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:TMROLE,address:192.168.43.128:8091,msg:< RegisterTMRequest{applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 17:40:49,148] [logId] [INFO] [main] TmNettyRemotingClient[224] - register TM success. client version:1.6.1, server version:1.6.1,channel:[id: 0x1ca8d721, L:/192.168.43.8:63057 - R:/192.168.43.128:8091]
[2023-08-09 17:40:49,153] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 50 ms, version:1.6.1,role:TMROLE,channel:[id: 0x1ca8d721, L:/192.168.43.8:63057 - R:/192.168.43.128:8091]
[2023-08-09 17:40:49,154] [logId] [INFO] [main] GlobalTransactionScanner[222] - Transaction Manager Client is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 17:40:49,181] [logId] [INFO] [main] AsyncWorker[73] - Async Commit Buffer Limit: 10000
[2023-08-09 17:40:49,182] [logId] [INFO] [main] ResourceManagerXA[59] - ResourceManagerXA init ...
[2023-08-09 17:40:49,187] [logId] [INFO] [main] NettyClientBootstrap[147] - NettyClientBootstrap has started
[2023-08-09 17:40:49,187] [logId] [INFO] [main] GlobalTransactionScanner[227] - Resource Manager is initialized. applicationId[order-service] txServiceGroup[order-tx-group]
[2023-08-09 17:40:49,187] [logId] [INFO] [main] GlobalTransactionScanner[231] - Global Transaction Clients are initialized. 
[2023-08-09 17:40:49,479] [logId] [INFO] [main] TomcatWebServer[108] - Tomcat initialized with port(s): 8010 (http)
[2023-08-09 17:40:49,486] [logId] [INFO] [main] Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8010"]
[2023-08-09 17:40:49,487] [logId] [INFO] [main] StandardService[173] - Starting service [Tomcat]
[2023-08-09 17:40:49,487] [logId] [INFO] [main] StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.68]
[2023-08-09 17:40:49,640] [logId] [INFO] [main] [/][173] - Initializing Spring embedded WebApplicationContext
[2023-08-09 17:40:49,641] [logId] [INFO] [main] ServletWebServerApplicationContext[290] - Root WebApplicationContext: initialization completed in 3561 ms
[2023-08-09 17:40:49,778] [logId] [INFO] [main] DruidDataSourceAutoConfigure[56] - Init DruidDataSource
[2023-08-09 17:40:50,082] [logId] [INFO] [main] DruidDataSource[990] - {dataSource-1} inited
[2023-08-09 17:40:50,206] [logId] [INFO] [main] NettyClientChannelManager[108] - will connect to 192.168.43.128:8091
[2023-08-09 17:40:50,207] [logId] [INFO] [main] RmNettyRemotingClient[276] - RM will register :jdbc:mysql://192.168.43.128:3306/order
[2023-08-09 17:40:50,207] [logId] [INFO] [main] NettyPoolableFactory[56] - NettyPool create channel to transactionRole:RMROLE,address:192.168.43.128:8091,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.43.128:3306/order', applicationId='order-service', transactionServiceGroup='order-tx-group'} >
[2023-08-09 17:40:50,212] [logId] [INFO] [main] RmNettyRemotingClient[177] - register RM success. client version:1.6.1, server version:1.6.1,channel:[id: 0xbdc07b81, L:/192.168.43.8:63067 - R:/192.168.43.128:8091]
[2023-08-09 17:40:50,212] [logId] [INFO] [main] NettyPoolableFactory[81] - register success, cost 3 ms, version:1.6.1,role:RMROLE,channel:[id: 0xbdc07b81, L:/192.168.43.8:63067 - R:/192.168.43.128:8091]
[2023-08-09 17:40:50,845] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 17:40:50,851] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'product-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 17:40:50,896] [logId] [INFO] [main] SeataFeignBuilderBeanPostProcessor[39] - change the retryer of the bean 'feignSentinelBuilder' to 'Retryer.NEVER_RETRY'
[2023-08-09 17:40:50,897] [logId] [INFO] [main] FeignClientFactoryBean[418] - For 'stock-service' URL not provided. Will try picking an instance via load-balancing.
[2023-08-09 17:40:50,995] [logId] [INFO] [main] GlobalTransactionScanner[305] - Bean[com.sakura.order.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$4e65760a] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
[2023-08-09 17:40:51,280] [logId] [INFO] [main] PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
[2023-08-09 17:40:52,686] [logId] [INFO] [main] Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8010"]
[2023-08-09 17:40:52,694] [logId] [INFO] [main] TomcatWebServer[220] - Tomcat started on port(s): 8010 (http) with context path ''
[2023-08-09 17:40:52,697] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
[2023-08-09 17:40:52,698] [logId] [INFO] [main] ClientAuthPluginManager[56] - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
[2023-08-09 17:40:52,886] [logId] [INFO] [main] NacosServiceRegistry[76] - nacos registry, DEFAULT_GROUP order-service 26.26.26.1:8010 register finished
[2023-08-09 17:40:53,288] [logId] [INFO] [main] DocumentationPluginsBootstrapper[160] - Context refreshed
[2023-08-09 17:40:53,297] [logId] [INFO] [main] DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
[2023-08-09 17:40:53,310] [logId] [INFO] [main] ApiListingReferenceScanner[41] - Scanning for api listing references
[2023-08-09 17:40:53,414] [logId] [INFO] [main] OrderApplication[61] - Started OrderApplication in 11.905 seconds (JVM running for 13.028)
[2023-08-09 17:40:53,419] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service, group=DEFAULT_GROUP
[2023-08-09 17:40:53,421] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service-dev.yaml, group=DEFAULT_GROUP
[2023-08-09 17:40:53,421] [logId] [INFO] [main] NacosContextRefresher[129] - [Nacos Config] Listening config: dataId=order-service.yaml, group=DEFAULT_GROUP
[2023-08-09 17:41:04,517] [logId] [INFO] [http-nio-8010-exec-1] [/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2023-08-09 17:41:04,518] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
[2023-08-09 17:41:04,523] [logId] [INFO] [http-nio-8010-exec-1] DispatcherServlet[547] - Completed initialization in 4 ms
[2023-08-09 17:41:04,728] [logId] [INFO] [http-nio-8010-exec-1] LogUtil[75] - requestId：3f325f07049546638b281834915f3cc2
[2023-08-09 17:41:04,882] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] LogUtil[85] - 请求参数：{"contentType":"application/json","ip":"26.26.26.1","param":{"num":1,"productNo":"10001"},"path":"/order/add","requestBody":true,"requestMethod":"POST","time":"2023-08-09 17:41:04"}
[2023-08-09 17:41:04,916] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] TransactionManagerHolder[40] - TransactionManager Singleton io.seata.tm.DefaultTransactionManager@2bcede90
[2023-08-09 17:41:04,940] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[118] - Begin new global transaction [192.168.43.128:8091:5566871554652745769]
[2023-08-09 17:41:05,133] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> GET http://stock-service/stock/getProductNum/10001 HTTP/1.1
[2023-08-09 17:41:05,134] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] TX_XID: 192.168.43.128:8091:5566871554652745769
[2023-08-09 17:41:05,134] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] ---> END HTTP (0-byte body)
[2023-08-09 17:41:05,281] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- HTTP/1.1 200 (146ms)
[2023-08-09 17:41:05,281] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] connection: keep-alive
[2023-08-09 17:41:05,281] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] content-type: application/json
[2023-08-09 17:41:05,281] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] date: Wed, 09 Aug 2023 09:41:05 GMT
[2023-08-09 17:41:05,282] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] keep-alive: timeout=60
[2023-08-09 17:41:05,282] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] transfer-encoding: chunked
[2023-08-09 17:41:05,282] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] 
[2023-08-09 17:41:05,282] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] {"code":200,"success":true,"message":"操作成功","data":42,"time":"2023-08-09 09:41:05"}
[2023-08-09 17:41:05,283] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] StockFeignService[72] - [StockFeignService#getProductNum] <--- END HTTP (91-byte body)
[2023-08-09 17:41:05,292] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[63] - 商品库存数量：ApiResult(code=200, success=true, message=操作成功, data=42, time=Wed Aug 09 17:41:05 CST 2023)
[2023-08-09 17:41:05,295] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] CustomFeignInterceptor[17] - 进入feign自定义拦截器
[2023-08-09 17:41:05,295] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] ---> GET http://product-service/product/getUnitPrice/10001 HTTP/1.1
[2023-08-09 17:41:05,325] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] ProductFeignService[72] - [ProductFeignService#getUnitPrice] <--- HTTP/1.1 200 (29ms)
[2023-08-09 17:41:05,326] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] OrderServiceImpl[75] - 商品单价：ApiResult(code=200, success=true, message=操作成功, data=100, time=Wed Aug 09 17:41:05 CST 2023)
[2023-08-09 17:41:05,354] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==>  Preparing: INSERT INTO t_order ( order_no, product_no, num, total_price, status ) VALUES ( ?, ?, ?, ?, ? ) 
[2023-08-09 17:41:05,362] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] insert[143] - ==> Parameters: 2023080909410529361420739(String), 10001(String), 1(Integer), 100(Integer), 1(Integer)
[2023-08-09 17:41:05,607] [3f325f07049546638b281834915f3cc2] [DEBUG] [http-nio-8010-exec-1] insert[143] - <==    Updates: 1
[2023-08-09 17:41:05,755] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[199] - Suspending current transaction, xid = 192.168.43.128:8091:5566871554652745769
[2023-08-09 17:41:05,756] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] DefaultGlobalTransaction[153] - [192.168.43.128:8091:5566871554652745769] commit status: Committed
[2023-08-09 17:41:05,758] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] LogUtil[64] - 返回参数：{"code":200,"message":"操作成功","success":true,"time":"2023-08-09 17:41:05"}
[2023-08-09 17:41:05,969] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] RmBranchCommitProcessor[56] - rm client handle branch commit process:xid=192.168.43.128:8091:5566871554652745769,branchId=5566871554652745770,branchType=AT,resourceId=jdbc:mysql://192.168.43.128:3306/order,applicationData={"autoCommit":false,"skipCheckLock":true}
[2023-08-09 17:41:05,971] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[96] - Branch committing: 192.168.43.128:8091:5566871554652745769 5566871554652745770 jdbc:mysql://192.168.43.128:3306/order {"autoCommit":false,"skipCheckLock":true}
[2023-08-09 17:41:05,971] [logId] [INFO] [rpcDispatch_RMROLE_1_1_32] AbstractRMHandler[104] - Branch commit result: PhaseTwo_Committed
[2023-08-09 17:41:15,762] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] LogUtil[260] - ++++++++++++++++++++++++++++++++++++++++++
[2023-08-09 17:41:15,775] [3f325f07049546638b281834915f3cc2] [INFO] [http-nio-8010-exec-1] LogUtil[334] - 日志信息：{"browserName":"Unknown","className":"com.sakura.order.controller.OrderController","code":200,"contentType":"application/json","engineName":"Unknown","ip":"26.26.26.1","message":"操作成功","methodName":"addOrder","mobile":false,"module":"order","name":"添加订单表","osName":"Unknown","param":"{\"num\":1,\"productNo\":\"10001\"}","path":"/order/add","platformName":"Unknown","remark":"","requestBody":true,"requestId":"3f325f07049546638b281834915f3cc2","requestMethod":"POST","success":true,"type":1,"userId":10000}
[2023-08-09 17:45:27,377] [logId] [WARN] [Thread-11] NotifyCenter[136] - [NotifyCenter] Start destroying Publisher
[2023-08-09 17:45:27,377] [logId] [WARN] [Thread-4] HttpClientBeanHolder[102] - [HttpClientBeanHolder] Start destroying common HttpClient
[2023-08-09 17:45:27,378] [logId] [WARN] [Thread-11] NotifyCenter[153] - [NotifyCenter] Destruction of the end
[2023-08-09 17:45:27,378] [logId] [WARN] [Thread-4] HttpClientBeanHolder[111] - [HttpClientBeanHolder] Destruction of the end
[2023-08-09 17:45:27,803] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[95] - De-registering from Nacos Server now...
[2023-08-09 17:45:27,807] [logId] [INFO] [SpringContextShutdownHook] NacosServiceRegistry[115] - De-registration finished.
[2023-08-09 17:45:27,818] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2043] - {dataSource-1} closing ...
[2023-08-09 17:45:27,821] [logId] [INFO] [SpringContextShutdownHook] DruidDataSource[2116] - {dataSource-1} closed
[2023-08-09 17:45:27,823] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0x1ca8d721, L:/192.168.43.8:63057 ! R:/192.168.43.128:8091]
[2023-08-09 17:45:27,823] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0x1ca8d721, L:/192.168.43.8:63057 ! R:/192.168.43.128:8091]
[2023-08-09 17:45:27,824] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[438] - channel inactive: [id: 0xbdc07b81, L:/192.168.43.8:63067 ! R:/192.168.43.128:8091]
[2023-08-09 17:45:27,824] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyClientChannelManager[133] - return to pool, rm channel:[id: 0xbdc07b81, L:/192.168.43.8:63067 ! R:/192.168.43.128:8091]
[2023-08-09 17:45:27,824] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0x1ca8d721, L:/192.168.43.8:63057 ! R:/192.168.43.128:8091]
[2023-08-09 17:45:27,824] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[133] - channel valid false,channel:[id: 0xbdc07b81, L:/192.168.43.8:63067 ! R:/192.168.43.128:8091]
[2023-08-09 17:45:27,824] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0x1ca8d721, L:/192.168.43.8:63057 ! R:/192.168.43.128:8091]
[2023-08-09 17:45:27,824] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] NettyPoolableFactory[120] - will destroy channel:[id: 0xbdc07b81, L:/192.168.43.8:63067 ! R:/192.168.43.128:8091]
[2023-08-09 17:45:27,825] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbdc07b81, L:/192.168.43.8:63067 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:45:27,825] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x1ca8d721, L:/192.168.43.8:63057 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:45:27,825] [logId] [INFO] [NettyClientSelector_RMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xbdc07b81, L:/192.168.43.8:63067 ! R:/192.168.43.128:8091]) will closed
[2023-08-09 17:45:27,825] [logId] [INFO] [NettyClientSelector_TMROLE_1_1] AbstractNettyRemotingClient[488] - ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x1ca8d721, L:/192.168.43.8:63057 ! R:/192.168.43.128:8091]) will closed
